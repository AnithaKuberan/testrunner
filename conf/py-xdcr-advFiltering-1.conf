xdcr.advFilteringXDCR.XDCRAdvFilterTests:

    # Use comma, dot, star instead of ',', '.', '*' in filter expressions

    # METADATA
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:REGEXP_CONTAINS(META()dotidcomma '0$'),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:META()dotexpirationequals0,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:META()dotflagsstar10>1000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:REGEXP_CONTAINS(META()dottypecomma "^j"),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:META()dotxattrs IS MISSING,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0

    # INT
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int>0,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int>equals'-1',initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:SQRT(int)<equals1dot898988,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:intequals"abcd",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int IS NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int/10<>10000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int+10 IS TRUE,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int<NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int IS MISSING,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0

    # FLOAT
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:float>0,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:float<1dot898988,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:floatequals"abcd",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:floatstar10>10,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:ROUND(float/10)<equals1dot2,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:ABS(float)equals10,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:CEIL(float)<>FALSE,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:float>NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:float IS NOT NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:float IS NOT MISSING,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0

    #STRING
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-short"equals"hi",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-medium"!equals"hello",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-long">equals"abcd",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:REGEXP_CONTAINS("string-short"comma"ab[c|d]ef") OR REGEXP_CONTAINS("string-empty"comma"^[a-z]+$"),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:REGEXP_CONTAINS("string-long"comma "#+[0-9]star"),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-medium"equals10,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-long" IS FALSE,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-short"<NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-medium" IS NOT NULL,initial_xdcr=True,failure_restart_interval:2

    #ARRAY
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-numbers`[0]>equals10000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-strings`[100000]<>"hello",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-empty` IS MISSING,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:REGEXP_CONTAINS(`array-literals`comma "True"),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-numbers`[50]<10dotzero,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:DATE(`array-dates`[0])equals"hi",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-literals`[10]!equalsFALSE,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-strings`<NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-mix` IS NOT NULL,initial_xdcr=True,failure_restart_interval:2

    #DATE
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:DATE(date)>0,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:DATE(date)<>DATE(“2019-01-01”),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:DATE(date)>equalsDATE(“2019-01-25T18:40:37Z”),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:date IS MISSING,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:DATE(date) IS NULL,initial_xdcr=True,failure_restart_interval:2

    #SUB DOC
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"doc-sub"dot"1">1dot1 AND REGEXP_CONTAINS("string-long", '(a|b)$'),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"doc-sub"dot"2" IS MISSING,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"doc-sub"dot"100" IS TRUE,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
     test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"doc-sub" IS NOT MISSING,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0

    # LOGICAL OPERATORS
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int>equals10000 AND int<>1000000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-long" IS MISSING OR REGEXP_CONTAINS("string-long", '^a'),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:(int>equals10000 AND int<>1000000) OR float IS NOT NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int>equals10000 OR (int<>1000000 OR float IS NOT NULL),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int>equals10000 AND int<>1000000,default@C1=filter_expression:int>equals10000 OR int<>1000000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int>equals10000 AND int<>1000000 AND int<1000,default@C1=filter_expression:int>equals10000 OR int<>1000000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0




