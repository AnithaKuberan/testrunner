xdcr.advFilteringXDCR.XDCRAdvFilterTests:

    # METADATA FILTERS
    # Use comma, dot, star instead of ',', '.', '*' in filter expressions
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:REGEXP_CONTAINS(META()dotidcomma '0$'),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:REGEXP_CONTAINS(META()dotidcomma 'edgy+dotstar'),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:META()dotexpirationequals0,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:META()dotflagsstar10>1000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:REGEXP_CONTAINS(META()dottypecomma "^j"),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:META()dotxattrs IS MISSING,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0

    # ARITHMETIC OPERATORS
    # INT
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int>0,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:intequals<1dot898988,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:intequals"abcd",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:intstar10>10,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int/10<>10000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int=10star10000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int!equalsTRUE,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int<NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int IS NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    # FLOAT
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:float>0,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:float<1dot898988,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:floatequals"abcd",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:floatstar10>10,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:float/10>10000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:floatequals10000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:float!equalsFALSE,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:float<NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:float IS NOT NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    #STRING
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-short"equals"hi",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-medium"!equals"hello",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-long">equals"abcd",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-short"<"abcdef",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:REGEXP_CONTAINS("string-long"comma "#+"),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-medium"equals10,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-long"!equalsFALSE,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-short"<NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-medium" IS NOT NULL,initial_xdcr=True,failure_restart_interval:2
    #ARRAY
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-numbers`[0]>equals10000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-strings`[10]!equals"hello",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-empty` IS MISSING,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:REGEXP_CONTAINS(`array-literals`comma "True"),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-numbers`[50]<10dotzero,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-numbers`[0]equals"hi",initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-literals`[10]!equalsFALSE,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-strings`<NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:`array-numbers` IS NOT NULL,initial_xdcr=True,failure_restart_interval:2

    # LOGICAL OPERATORS
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int>equals10000 AND int<>1000000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-long" IS MISSING OR REGEXP_CONTAINS("string-long", '^a'),initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int>equals10000 AND int<>1000000 OR float IS NOT NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int>equals10000 AND int<>1000000 OR float IS NOT NULL,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int>equals10000 AND int<>1000000,default@C1=filter_expression:int>equals10000 OR int<>1000000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=100,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int>equals10000 AND int<>1000000 AND int<1000,default@C1=filter_expression:int>equals10000 OR int<>1000000,initial_xdcr=True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0

    # FILTER + OTHER OPS
    # bi-xdcr + filter + pause-resume
    test_xdcr_with_filter,items=50000,pause=C1:C2,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:REGEXP_CONTAINS(META()dotidcomma "[A-Z][0-9]"),default@C2=filter_expression:REGEXP_CONTAINS(META()dotidcomma "[A-Z][0-9]"),GROUP=P2
    # bi-xdcr + filter + pause-resume + graceful failover + rebalance-out
    test_xdcr_with_filter,items=50000,pause=C1:C2,failover=C1:C2,graceful=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:"string-short" IS NOT MISSING,default@C2=filter_expression:"doc-empty" IS MISSING,GROUP=P2
    # bi-xdcr + filter + rebalance-in
    test_xdcr_with_filter,items=50000,rebalance_in=C1:C2,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int+10<equals10000,default@C2,GROUP=P2
    # bi-xdcr + encrypted-xdcr + warmup
    test_xdcr_with_filter,items=10000,reboot=C1:C2,rdirection=bidirection,ctopology=chain,replication_type=xmem,expires=20,default@C1=filter_expression:"float-negative">-123,timeout_percentage:60,default@C2=filter_expression:REGEXP_CONTAINS(META()dotidcomma '^1'),GROUP=P2





